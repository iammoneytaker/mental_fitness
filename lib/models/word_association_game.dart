import 'dart:math';

class WordAssociationGame {
  int score = 0;
  int level = 1;
  bool isCompleted = false;
  late String currentWord;
  List<String> options = [];
  int correctAnswerIndex = 0;

  final Map<String, List<String>> wordAssociations = {
    '사과': ['과일', '빨간색', '파이', '자동차'],
    '바다': ['파도', '모래', '조개', '산'],
    '산': ['등산', '나무', '공기', '수영'],
    '책': ['읽기', '지식', '도서관', '운동'],
    '컴퓨터': ['인터넷', '프로그램', '키보드', '요리'],
    '음악': ['노래', '악기', '콘서트', '그림'],
    '영화': ['배우', '감독', '극장', '요리'],
    '여행': ['휴가', '비행기', '호텔', '공부'],
    '커피': ['카페인', '원두', '아메리카노', '운동'],
    '운동': ['건강', '체육관', '땀', '독서'],
    '가족': ['부모', '자식', '사랑', '회사'],
    '친구': ['우정', '만남', '대화', '경쟁'],
    '꽃': ['향기', '색깔', '봄', '컴퓨터'],
    '하늘': ['구름', '태양', '별', '바다'],
    '시간': ['시계', '과거', '미래', '돈'],
    '사랑': ['연인', '감정', '행복', '성공'],
    '행복': ['미소', '만족', '기쁨', '슬픔'],
    '건강': ['운동', '식단', '병원', '게임'],
    '돈': ['은행', '지갑', '부자', '사랑'],
    '직업': ['회사', '급여', '경력', '취미'],
    '학교': ['학생', '선생님', '교실', '회사'],
    '음식': ['맛', '요리', '식당', '운동'],
    '동물': ['개', '고양이', '동물원', '식물'],
    '자동차': ['운전', '도로', '속도', '걷기'],
    '나무': ['숲', '그늘', '산소', '바다'],
    '병원': ['의사', '간호사', '약', '학교'],
    '전화': ['통화', '메시지', '연락', '편지'],
    '신발': ['걷기', '운동화', '구두', '모자'],
    '비': ['우산', '물', '장마', '태양'],
    '눈': ['겨울', '스키', '눈사람', '여름'],
    '태양': ['빛', '열', '에너지', '달'],
    '달': ['밤', '위성', '보름달', '태양'],
    '바람': ['공기', '선선함', '태풍', '불'],
    '불': ['열', '요리', '캠프파이어', '물'],
    '물': ['마시다', '수영', '강', '불'],
    '집': ['가족', '안식', '침대', '사무실'],
    '도시': ['빌딩', '교통', '사람', '숲'],
    '농장': ['동물', '작물', '트랙터', '아파트'],
    '공원': ['나무', '벤치', '산책', '사무실'],
    '식물': ['꽃', '나무', '광합성', '동물'],
    '과일': ['사과', '바나나', '비타민', '고기'],
    '채소': ['당근', '브로콜리', '건강', '과자'],
    '고기': ['단백질', '스테이크', '바베큐', '채소'],
    '빵': ['밀가루', '베이커리', '토스트', '쌀'],
    '치즈': ['우유', '피자', '와인', '커피'],
    '와인': ['포도', '레스토랑', '저녁', '주스'],
    '맥주': ['홉', '파티', '거품', '우유'],
    '피자': ['치즈', '토마토', '페퍼로니', '아이스크림'],
    '햄버거': ['패티', '빵', '패스트푸드', '샐러드'],
    '아이스크림': ['차갑다', '디저트', '바닐라', '수프'],
    '초콜릿': ['달콤함', '카카오', '발렌타인', '소금'],
    '차': ['녹차', '홍차', '허브', '콜라'],
    '주스': ['과일', '오렌지', '비타민', '와인'],
    '콜라': ['탄산', '설탕', '카페인', '물'],
    '우유': ['칼슘', '젖소', '치즈', '콜라'],
    '요가': ['명상', '스트레칭', '호흡', '축구'],
    '축구': ['공', '골', '월드컵', '요가'],
    '농구': ['코트', '덩크', 'NBA', '수영'],
    '야구': ['방망이', '글러브', '홈런', '스키'],
    '테니스': ['라켓', '코트', '서브', '복싱'],
    '수영': ['물', '수영장', '올림픽', '등산'],
    '스키': ['눈', '슬로프', '겨울', '서핑'],
    '서핑': ['파도', '해변', '보드', '스키'],
    '골프': ['클럽', '그린', '홀인원', '마라톤'],
    '마라톤': ['달리기', '인내', '42.195km', '체스'],
    '체스': ['킹', '퀸', '전략', '축구'],
    '바둑': ['돌', '판', '흑백', '테니스'],
    '카드게임': ['포커', '블랙잭', '조커', '농구'],
    '비디오게임': ['콘솔', '조이스틱', 'RPG', '독서'],
    '영화관': ['스크린', '팝콘', '영화', '도서관'],
    '도서관': ['책', '조용함', '독서', '놀이공원'],
    '놀이공원': ['롤러코스터', '관람차', '즐거움', '병원'],
    '동물원': ['사자', '기린', '코끼리', '미술관'],
    '미술관': ['그림', '조각', '전시', '체육관'],
    '박물관': ['역사', '유물', '전시', '쇼핑몰'],
    '쇼핑몰': ['상점', '브랜드', '쇼핑', '도서관'],
    '공항': ['비행기', '여권', '출국', '기차역'],
    '기차역': ['기차', '플랫폼', '여행', '주차장'],
    '버스정류장': ['버스', '승객', '노선', '비행장'],
    '지하철': ['전철', '역', '통근', '자전거'],
    '자전거': ['페달', '바퀴', '운동', '비행기'],
    '스마트폰': ['앱', '터치스크린', '통화', '냉장고'],
    '텔레비전': ['채널', '리모컨', '프로그램', '전화기'],
    '라디오': ['주파수', '방송', '음악', '냉장고'],
    '냉장고': ['음식', '보관', '차갑다', '책상'],
    '세탁기': ['빨래', '세제', '옷', '침대'],
    '에어컨': ['시원함', '온도', '여름', '난로'],
    '청소기': ['먼지', '깨끗함', '흡입', '전자레인지'],
    '전자레인지': ['요리', '데우기', '간편', '선풍기'],
    '선풍기': ['바람', '시원함', '날개', '오븐'],
    '시계': ['시간', '분', '초', '온도계'],
    '카메라': ['사진', '렌즈', '셔터', '전화기'],
    '기타': ['현', '음악', '연주', '망원경'],
    '피아노': ['건반', '클래식', '연주', '망치'],
    '드럼': ['리듬', '스틱', '타악기', '붓'],
    '바이올린': ['현악기', '활', '오케스트라', '망치'],
    '트럼펫': ['관악기', '재즈', '금관악기', '연필'],
    '색연필': ['그림', '색깔', '미술', '망치'],
    '크레용': ['그림', '왁스', '어린이', '드라이버'],
    '물감': ['그림', '붓', '수채화', '망치'],
    '연필': ['글쓰기', '지우개', '흑연', '주걱'],
    '볼펜': ['잉크', '글쓰기', '클릭', '망치'],
    '지우개': ['실수', '고무', '연필', '칼'],
    '가위': ['자르기', '종이', '금속', '망치'],
    '풀': ['붙이기', '접착', '종이', '망치'],
    '테이프': ['붙이기', '접착', '투명', '망치'],
    '자': ['측정', '길이', '직선', '주전자'],
    '계산기': ['수학', '숫자', '계산', '주전자'],
    '달력': ['날짜', '월', '연도', '주전자'],
    '노트': ['필기', '종이', '메모', '주전자'],
    '책상': ['공부', '일', '서랍', '침대'],
    '의자': ['앉다', '등받이', '다리', '냉장고'],
    '침대': ['잠', '매트리스', '베개', '책상'],
    '소파': ['거실', '편안함', '쿠션', '싱크대'],
    '옷장': ['옷', '보관', '행거', '세탁기'],
    '거울': ['반사', '이미지', '화장', '오븐'],
    '화장대': ['화장품', '거울', '서랍', '냉장고'],
    '식탁': ['식사', '의자', '주방', '텔레비전'],
    '선반': ['책', '물건', '보관', '세탁기'],
    '창문': ['유리', '빛', '환기', '냉장고'],
    '문': ['출입구', '손잡이', '열쇠', '텔레비전'],
    '계단': ['층', '오르다', '내리다', '침대'],
    '엘리베이터': ['상승', '하강', '버튼', '자전거'],
    '지붕': ['집', '보호', '기와', '냉장고'],
    '벽': ['구조', '페인트', '장식', '침대'],
    '바닥': ['걷다', '타일', '카펫', '천장'],
    '천장': ['조명', '높이', '팬', '바닥'],
    '화장실': ['변기', '세면대', '샤워', '주방'],
    '욕조': ['목욕', '물', '거품', '책상'],
    '싱크대': ['설거지', '수도꼭지', '주방', '침대'],
    '오븐': ['요리', '베이킹', '열', '세탁기'],
    '난로': ['따뜻함', '겨울', '불', '에어컨'],
    '다리미': ['옷', '주름', '열', '냉장고'],
    '토스터': ['빵', '아침', '구워내다', '세탁기'],
    '믹서기': ['음료', '과일', '갈다', '청소기'],
    '커피메이커': ['커피', '아침', '카페인', '청소기'],
    '전기포트': ['물', '끓이다', '차', '청소기'],
    '식기세척기': ['접시', '세척', '주방', '텔레비전'],
    '공기청정기': ['먼지', '깨끗함', '필터', '오븐'],
    '제습기': ['습기', '건조', '곰팡이', '오븐'],
    '가습기': ['습도', '물', '건조함', '냉장고'],
    '정수기': ['물', '필터', '마시다', '세탁기'],
    '진공청소기': ['먼지', '흡입', '청소', '냉장고'],
    '로봇청소기': ['자동', '청소', '스마트', '오븐'],
    '전기면도기': ['수염', '면도', '남성', '냉장고'],
    '헤어드라이어': ['머리', '건조', '스타일', '냉장고'],
    '고데기': ['머리', '스타일', '열', '냉장고'],
    '전동칫솔': ['이', '양치', '진동', '냉장고'],
    '가스레인지': ['요리', '불', '주방', '세탁기'],
    '인덕션': ['요리', '전기', '주방', '세탁기'],
    '전기밥솥': ['밥', '요리', '주방', '청소기'],
    '튀김기': ['기름', '요리', '주방', '세탁기'],
    '와플메이커': ['와플', '아침', '디저트', '청소기'],
    '블렌더': ['스무디', '과일', '갈다', '청소기'],
    '식품건조기': ['과일', '채소', '건조', '세탁기'],
    '제빵기': ['빵', '베이킹', '요리', '청소기'],
    '에어프라이어': ['튀김', '건강', '요리', '세탁기'],
    '전기그릴': ['고기', '바베큐', '요리', '세탁기'],
    '음식물처리기': ['음식물', '쓰레기', '분쇄', '텔레비전'],
    '식기건조대': ['접시', '건조', '주방', '세탁기'],
    '주방저울': ['무게', '요리', '정확', '청소기'],
    '와인냉장고': ['와인', '보관', '온도', '세탁기'],
    '제빙기': ['얼음', '시원함', '음료', '오븐'],
  };

  void startGame() {
    score = 0;
    level = 1;
    isCompleted = false;
    selectNewWord();
  }

  void selectNewWord() {
    List<String> words = wordAssociations.keys.toList();
    currentWord = words[Random().nextInt(words.length)];
    List<String> associations = wordAssociations[currentWord]!;
    correctAnswerIndex = associations.length - 1; // 마지막 단어가 어울리지 않는 단어
    options = List.from(associations);
  }

  bool checkAnswer(int selectedIndex) {
    if (selectedIndex == correctAnswerIndex) {
      score += 10;
      level++;
      if (level > 10) {
        isCompleted = true;
        return true;
      }
      selectNewWord();
      return true;
    }
    return false;
  }

  void endGame() {
    isCompleted = true;
  }
}
